<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Local Playground</title>
    <style>
      :root {
      }

      body {
        margin: 0;
        padding: 0;
      }

      label,
      textarea {
        display: block;
      }

      section {
        display: flex;
        flex-direction: column;
        width: 100vw;
        height: 100vh;
        padding-inline: 0.5em;
      }

      section textarea {
        min-height: 10em;
      }

      iframe {
        flex-grow: 1;
      }
    </style>
  </head>

  <body>
    <section>
      <label>HTML<textarea id="html"></textarea></label>
      <label>CSS<textarea id="css"></textarea></label>
      <label>JS<textarea id="js"></textarea></label>
      <iframe id="web"></iframe>
    </section>
    <script>
      function render() {
        web.srcdoc = `
        <!doctype html>
        <html lang="en">
          <head>
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />

            <title>Local Playground</title>
            <style>${css.value}</style>
          </head>
          <body>
            ${html.value || 'Output'}
            <script>
              ${js.value}
            <\/script>
          </body>
        </html>
      `
      }

      document.querySelectorAll('textarea,input').forEach(el => {
        el.addEventListener('input', e => {
          render()
        })
      })
    </script>
  </body>
</html>
